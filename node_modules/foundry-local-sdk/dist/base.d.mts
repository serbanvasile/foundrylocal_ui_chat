/**
 * Type alias for the fetch function.
 */
type Fetch = typeof fetch;
/**
 * Enum representing the types of devices.
 */
declare enum DeviceType {
    CPU = "CPU",
    GPU = "GPU",
    NPU = "NPU"
}
/**
 * Enum representing the execution providers.
 */
declare enum ExecutionProvider {
    CPU = "CPUExecutionProvider",
    WEBGPU = "WebGpuExecutionProvider",
    CUDA = "CUDAExecutionProvider"
}
/**
 * Interface representing the runtime configuration of a model.
 */
interface ModelRuntime {
    /**
     * The type of device used for execution.
     */
    deviceType: DeviceType;
    /**
     * The execution provider used for running the model.
     */
    executionProvider: string;
}
/**
 * Interface representing the response model for a Foundry list operation.
 */
interface FoundryListResponseModel {
    /**
     * The name of the model.
     */
    name: string;
    /**
     * The display name of the model.
     */
    displayName: string;
    /**
     * The type of the model.
     */
    modelType: string;
    /**
     * The provider type of the model.
     */
    providerType: string;
    /**
     * The URI of the model.
     */
    uri: string;
    /**
     * The version of the model.
     */
    version: string;
    /**
     * The prompt template associated with the model.
     */
    promptTemplate: Record<string, string>;
    /**
     * The publisher of the model.
     */
    publisher: string;
    /**
     * The task the model is designed for.
     */
    task: string;
    /**
     * The runtime configuration of the model.
     */
    runtime: ModelRuntime;
    /**
     * The file size of the model in megabytes.
     */
    fileSizeMb: number;
    /**
     * The settings of the model.
     */
    modelSettings: Record<string, Record<string, string>[]>;
    /**
     * The alias of the model.
     */
    alias: string;
    /**
     * Indicates whether the model supports tool calling.
     */
    supportsToolCalling: boolean;
    /**
     * The license of the model.
     */
    license: string;
    /**
     * The description of the license.
     */
    licenseDescription: string;
    /**
     * The URI of the parent model.
     */
    parentModelUri: string;
    /**
     * The maximum number of output tokens.
     */
    maxOutputTokens: number;
    /**
     * The minimum Foundry Local version required to use this model.
     */
    minFLVersion: string;
}
/**
 * Interface representing information about a Foundry model.
 */
interface FoundryModelInfo {
    /**
     * The alias of the model.
     */
    alias: string;
    /**
     * The unique identifier of the model.
     */
    id: string;
    /**
     * The version of the model.
     */
    version: string;
    /**
     * The execution provider used for the model.
     */
    executionProvider: string;
    /**
     * The device type used for the model.
     */
    deviceType: DeviceType;
    /**
     * The URI of the model.
     */
    uri: string;
    /**
     * The size of the model in megabytes.
     */
    modelSize: number;
    /**
     * The prompt template associated with the model.
     */
    promptTemplate: Record<string, string>;
    /**
     * The provider of the model.
     */
    provider: string;
    /**
     * The publisher of the model.
     */
    publisher: string;
    /**
     * The license of the model.
     */
    license: string;
    /**
     * The task the model is designed for.
     */
    task: string;
    /**
     * EP Override
     */
    epOverride: string | null;
}
/**
 * Interface representing the body of a download request.
 */
interface DownloadBody {
    /**
     * The name of the model.
     */
    Name: string;
    /**
     * The URI of the model.
     */
    Uri: string;
    /**
     * The publisher of the model.
     */
    Publisher: string;
    /**
     * The provider type of the model.
     */
    ProviderType: string;
    /**
     * The prompt template associated with the model.
     */
    PromptTemplate: Record<string, string>;
}

/**
 * Class representing the Foundry Local Manager compatible with browser environments.
 * This class needs to be constructed with a service URL and cannot manage the service itself.
 */
declare class FoundryLocalManager {
    /**
     * The service URL for the Foundry service.
     */
    protected _serviceUrl: string | null;
    /**
     * The fetch function to use for HTTP requests.
     */
    protected readonly fetch: Fetch;
    /**
     * Cached list of catalog models.
     */
    protected catalogList: FoundryModelInfo[] | null;
    /**
     * Constructs a new FoundryLocalManager instance.
     * @param {Object} options - Configuration options for the FoundryLocalManager.
     * @param {string} options.serviceUrl - The base URL of the Foundry service.
     * @param {Fetch} [options.fetch] - Optional custom fetch implementation to use for HTTP requests.
     * If not provided, the global fetch will be used.
     */
    constructor({ serviceUrl, fetch: overriddenFetch }: {
        serviceUrl: string;
        fetch?: Fetch;
    });
    /**
     * Gets the service URL.
     * @throws {Error} If the service URL is invalid.
     * @returns {string} The service URL.
     */
    get serviceUrl(): string;
    /**
     * Gets the API endpoint URL.
     * @returns {string} The API endpoint URL.
     */
    get endpoint(): string;
    /**
     * Gets the API key.
     * @returns {string} The API key.
     */
    get apiKey(): string;
    /**
     * Lists the catalog models.
     * @returns {Promise<FoundryModelInfo[]>} The list of catalog models.
     */
    listCatalogModels(): Promise<FoundryModelInfo[]>;
    /**
     * Extracts numeric version from ID (e.g. model-x:3 â†’ 3)
     * @returns {number} Numeric version extracted from the model ID, or -1 if not found.
     */
    private getVersion;
    /**
     * Refreshes the catalog by clearing cached data.
     * @returns {Promise<void>} Resolves when the catalog is refreshed.
     */
    refreshCatalog(): Promise<void>;
    /**
     * Gets the model information of the latest model that matches the given alias or ID.
     * @param {string} aliasOrModelId - The alias or model ID.
     * @param {DeviceType} [device] - Optional device type to filter models.
     * @param {boolean} throwOnNotFound - Whether to throw an error if the model is not found.
     * @returns {Promise<FoundryModelInfo | null>} The model information or null if not found.
     */
    getModelInfo(aliasOrModelId: string, device?: DeviceType, throwOnNotFound?: boolean): Promise<FoundryModelInfo | null>;
    /**
     * Gets the latest model information by alias or model ID.
     * The difference from getModelInfo is that this method will return the latest version of the model
     * even when you pass it a model id that contains a version suffix.
     * @param {string} aliasOrModelId - The alias or model ID.
     * @param {DeviceType} [device] - Optional device type to filter models.
     * @param {boolean} throwOnNotFound - Whether to throw an error if the model is not found.
     * @returns {Promise<FoundryModelInfo | null>} The model information or null if not found.
     */
    private getLatestModelInfo;
    /**
     * Fetches models based on a provided endpoint.
     * @param {string} path - The endpoint path.
     * @returns {Promise<FoundryModelInfo[]>} The list of models.
     */
    private fetchModels;
    /**
     * Gets the cache location.
     * @returns {Promise<string>} The cache location.
     */
    getCacheLocation(): Promise<string>;
    /**
     * Lists cached models.
     * @returns {Promise<FoundryModelInfo[]>} The list of models downloaded to the cache.
     */
    listCachedModels(): Promise<FoundryModelInfo[]>;
    /**
     * Downloads a model.
     * @param {string} aliasOrModelId - The alias or model ID.
     * @param {DeviceType} [device] - Optional device type to filter models.
     * @param {string} [token] - Optional token for authentication.
     * @param {boolean} force - Whether to force download an already downloaded model.
     * @param {(progress: number) => void} [onProgress] - Callback for download progress percentage.
     * If model is already downloaded and force is false, it will be called once with 100.
     * @returns {Promise<FoundryModelInfo>} The downloaded model information.
     */
    downloadModel(aliasOrModelId: string, device?: DeviceType, token?: string, force?: boolean, onProgress?: (progress: number) => void): Promise<FoundryModelInfo>;
    /**
     * Checks if a newer version of a model is available.
     * @param {string} aliasOrModelId - The alias or model ID.
     * @param {DeviceType} [device] - Optional device type to filter models.
     * @returns {Promise<boolean>} True if a newer version is available, otherwise false.
     */
    isModelUpgradeable(aliasOrModelId: string, device?: DeviceType): Promise<boolean>;
    /**
     * Downloads the latest version of a model to the local cache.
     * @param {string} aliasOrModelId - The alias or model ID.
     * @param {DeviceType} [device] - Optional device type to filter models.
     * @param {string} [token] - Optional token for authentication.
     * @param {(progress: number) => void} [onProgress] - Callback for download progress percentage.
     * @returns {Promise<FoundryModelInfo>} The upgraded model information.
     */
    upgradeModel(aliasOrModelId: string, device?: DeviceType, token?: string, onProgress?: (progress: number) => void): Promise<FoundryModelInfo>;
    /**
     * Loads a model.
     * @param {string} aliasOrModelId - The alias or model ID.
     * @param {DeviceType} [device] - Optional device type to filter models.
     * @param {number} ttl - Time-to-live for the model in seconds. Default is 600 seconds (10 minutes).
     * @returns {Promise<FoundryModelInfo>} The loaded model information.
     * @throws {Error} If the model is not in the catalog or has not been downloaded yet.
     */
    loadModel(aliasOrModelId: string, device?: DeviceType, ttl?: number): Promise<FoundryModelInfo>;
    /**
     * Unloads a model.
     * @param {string} aliasOrModelId - The alias or model ID.
     * @param {DeviceType} [device] - Optional device type to filter models.
     * @param {boolean} force - Whether to force unload model with TTL.
     * @returns {Promise<void>} Resolves when the model is unloaded.
     */
    unloadModel(aliasOrModelId: string, device?: DeviceType, force?: boolean): Promise<void>;
    /**
     * Lists loaded models.
     * @returns {Promise<FoundryModelInfo[]>} The list of loaded models.
     */
    listLoadedModels(): Promise<FoundryModelInfo[]>;
}

export { DeviceType, ExecutionProvider, FoundryLocalManager };
export type { DownloadBody, Fetch, FoundryListResponseModel, FoundryModelInfo, ModelRuntime };
